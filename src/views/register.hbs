<div class="container mt-4">
  <h3>User Registration</h3>
  <div class="card shadow-sm">
    <div class="card-body">
      <form action="/register" method="POST">
        <div class="mb-3">
          <label for="fullName" class="form-label">Full Name</label>
          <input type="text" class="form-control" id="fullName" name="fullName" required>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="mb-3">
          <label for="passportNumber" class="form-label">Passport Number</label>
          <input type="text" class="form-control" id="passportNumber" name="passportNumber" required>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input type="password" class="form-control" id="password" name="password" required>
        </div>
        <button type="submit" class="btn btn-primary">Register</button>
        <div class="mt-3">
          <small>Already have an account? <a href="/login">Login here</a></small>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  // Wait for the form to be submitted
  document.querySelector('form').addEventListener('submit', function(e) {
    
    // Get values from the inputs
    const name = document.getElementById('fullName').value;
    const email = document.getElementById('email').value;
    const passport = document.getElementById('passportNumber').value;

    // Use the functions from validation.js
    // If any validation fails, we stop the form (e.preventDefault) and show an alert
    if (!validateName(name)) {
      e.preventDefault(); 
      alert("Name must contain only letters (min 2 chars).");
    } 
    else if (!validateEmail(email)) {
      e.preventDefault();
      alert("Please enter a valid email address.");
    } 
    else if (!validatePassport(passport)) {
      e.preventDefault();
      alert("Passport number must be at least 6 alphanumeric characters.");
    }
  });
</script>
